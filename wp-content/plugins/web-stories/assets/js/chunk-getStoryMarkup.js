"use strict";(globalThis.webpackChunkweb_stories_wp=globalThis.webpackChunkweb_stories_wp||[]).push([[5985],{99644:(e,t,n)=>{n.d(t,{default:()=>l});var a=n(67294),r=n(37136);n(88914);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(this,arguments)}const l=function WithLink(e){let{element:t,children:n,...l}=e;const i=t.link||{},{url:s,icon:c,desc:u,rel:d=[]}=i;if(!s)return n;const p=d.concat(["noreferrer"]),m=(0,r.withProtocol)(s);return a.createElement("a",o({href:m,"data-tooltip-icon":c||void 0,"data-tooltip-text":u,target:"_blank",rel:p.join(" ")},l),n)}},760:(e,t,n)=>{n.d(t,{DEFAULT_AUTO_ADVANCE:()=>r,DEFAULT_PAGE_DURATION:()=>a});const a=7,r=!0},83030:(e,t,n)=>{n.d(t,{default:()=>u});var a=n(67294),r=(n(92087),n(18535)),o=n(1787),l=n(22188),i=n(88914),s=n(25784),c=n(99644);const u=function OutputElement(e){let{element:t,flags:n}=e;const{id:u,opacity:d,type:p,border:m,backgroundColor:f,backgroundTextMode:g,overlay:h}=t,{Output:y,isMaskable:b}=(0,i.getDefinitionForType)(p),v=(0,o.getBox)(t,100,100),{x:E,y:k,width:A,height:w,rotationAngle:T}=v,_={backgroundClip:"content-box",...(0,r.default)(f)};return a.createElement("div",{style:{position:"absolute",pointerEvents:"none",left:E?`${E}%`:0,top:k?`${k}%`:0,width:`${A}%`,height:`${w}%`,...(0,s.shouldDisplayBorder)(t)?(0,s.getBorderPositionCSS)({...m,width:`${A}%`,height:`${w}%`,posTop:`${k}%`,posLeft:`${E}%`}):null,transform:T?`rotate(${T}deg)`:null,opacity:void 0!==d?d/100:null}},a.createElement(l.StoryAnimation.AMPWrapper,{target:u},a.createElement(s.OutputWithMask,{className:b?"mask":void 0,element:t,id:"el-"+u,style:{...(0,s.shouldDisplayBorder)(t)?(0,s.getBorderStyle)(t):null,pointerEvents:"initial",width:"100%",height:"100%",display:"block",position:"absolute",top:0,left:0,zIndex:0,...(0,s.getBorderRadius)(t),...g===i.BACKGROUND_TEXT_MODE.FILL?_:null},skipDefaultMask:!0},a.createElement(c.default,{element:t,style:{width:"100%",height:"100%",display:"block",position:"absolute",top:0,left:0}},a.createElement(y,{element:t,box:v,flags:n})),h&&a.createElement("div",{className:"element-overlay-area",style:(0,r.default)(h)}))))}},7159:(e,t,n)=>{n.r(t),n.d(t,{DEFAULT_AUTO_ADVANCE:()=>l.DEFAULT_AUTO_ADVANCE,DEFAULT_PAGE_DURATION:()=>l.DEFAULT_PAGE_DURATION,OutputStory:()=>a.default,getStoryMarkup:()=>r.default,getTextElementTagNames:()=>o.default});var a=n(65447),r=n(76690),o=n(58216),l=n(760)},37246:(e,t,n)=>{n.d(t,{default:()=>y});var a=n(67294),r=(n(92087),n(18535)),o=n(15985),l=n(22188),i=n(88914),s=n(760),c=n(83030),u=n(36459),d=n(58216),p=n(94166),m=n(37051),f=n(48773);function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},g.apply(this,arguments)}const h=`${o.PAGE_WIDTH}:${o.PAGE_HEIGHT}`;const y=function OutputPage(e){let{page:t,autoAdvance:n=s.DEFAULT_AUTO_ADVANCE,defaultPageDuration:o=s.DEFAULT_PAGE_DURATION,flags:y}=e;const{id:b,animations:v,elements:E,backgroundColor:k,backgroundAudio:A,pageAttachment:w={},shoppingAttachment:T={}}=t,[_,...D]=E,O=_?.resource?.baseColor,L=O?{backgroundColor:O}:{backgroundColor:"white",...(0,r.default)(k)},P=n?(0,p.default)({animations:v,elements:E,defaultPageDuration:o,backgroundAudio:A,id:b}):void 0,x=(0,d.default)(D.filter((e=>{let{type:t}=e;return"text"===t}))),$=D.map((e=>{const t="text"===e.type,n=w?.url&&(0,i.isElementBelowLimit)(e);if(!(t||n))return e;const a={...e};return t&&(a.tagName=x.get(e.id)),n&&delete a.link,a})),S=E.filter((e=>{let{type:t}=e;return t===i.ELEMENT_TYPES.PRODUCT})).map((e=>{let{product:t}=e;return t})).filter(Boolean),U=S.length>0,M=w?.url&&!U,N=E.filter((e=>{let{type:t,tracks:n}=e;return t===i.ELEMENT_TYPES.VIDEO&&n?.length>0})).map((e=>{let{id:t}=e;return`el-${t}-captions`})),j=A?.resource?.src,I=A?.tracks?.length>0,F=I||!1===A?.loop&&A?.resource?.length;return j&&I&&N.push(`el-${b}-captions`),a.createElement("amp-story-page",{id:b,"auto-advance-after":P,"background-audio":j&&!F?j:void 0},a.createElement(l.StoryAnimation.Provider,{animations:v,elements:E},a.createElement(l.StoryAnimation.AMPAnimations,null),_&&a.createElement("amp-story-grid-layer",{template:"vertical","aspect-ratio":h,class:"grid-layer"},a.createElement("div",{className:"page-fullbleed-area",style:L},a.createElement("div",{className:"page-safe-area"},a.createElement(c.default,{element:_,flags:y}),_.overlay&&a.createElement("div",{className:"page-background-overlay-area",style:(0,r.default)(_.overlay)})))),a.createElement("amp-story-grid-layer",{template:"vertical","aspect-ratio":h,class:"grid-layer"},a.createElement("div",{className:"page-fullbleed-area"},a.createElement("div",{className:"page-safe-area"},$.map((e=>a.createElement(c.default,{key:e.id,element:e,flags:y}))))))),j&&F&&a.createElement(u.default,{backgroundAudio:A,id:b}),N.length>0&&a.createElement("amp-story-grid-layer",{template:"vertical","aspect-ratio":h,class:"grid-layer align-bottom"},a.createElement("div",{className:"captions-area"},N.map((e=>a.createElement("amp-story-captions",{key:e,id:e,layout:"fixed-height",height:"100"}))))),M&&a.createElement(m.default,w),U&&a.createElement(f.default,g({products:S},T)))}},65447:(e,t,n)=>{n.d(t,{default:()=>u});var a=n(67294),r=(n(92087),n(88914),n(31809)),o=n(2282),l=n(51529),i=n(32616),s=n(37246),c=n(82631);const u=function OutputStory(e){let{story:{featuredMedia:t,link:n,title:u,autoAdvance:d,defaultPageDuration:p,backgroundAudio:m,publisherLogo:f},pages:g,metadata:{publisher:h},flags:y}=e;const b=(0,r.default)(g),v=(0,c.default)(g),E=t?.url||"",k=f?.url||"";return a.createElement("html",{amp:"",lang:"en"},a.createElement("head",null,a.createElement("meta",{charSet:"utf-8"}),a.createElement("meta",{name:"viewport",content:"width=device-width,minimum-scale=1,initial-scale=1"}),b.map((e=>{let{name:t,src:n}=e;return a.createElement("script",{key:n,async:"async",src:n,"custom-element":t})})),a.createElement(i.default,{pages:g}),v.map((e=>{let{url:t,type:n}=e;return a.createElement("link",{key:t,href:t,rel:"preload",as:n})})),a.createElement(o.default,null),a.createElement(l.default,null),a.createElement("meta",{name:"web-stories-replace-head-start"}),a.createElement("title",null,u),n&&a.createElement("link",{rel:"canonical",href:n}),a.createElement("meta",{name:"web-stories-replace-head-end"})),a.createElement("body",null,a.createElement("amp-story",{standalone:"",publisher:h,"publisher-logo-src":k,title:u,"poster-portrait-src":E,"background-audio":m?.resource?.src??void 0},g.map((e=>a.createElement(s.default,{key:e.id,page:e,autoAdvance:d,defaultPageDuration:p,flags:y}))))))}},2282:(e,t,n)=>{n.d(t,{default:()=>r});var a=n(67294);const r=function Boilerplate(){return a.createElement(a.Fragment,null,a.createElement("style",{"amp-boilerplate":"",dangerouslySetInnerHTML:{__html:"body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}"}}),a.createElement("noscript",null,a.createElement("style",{"amp-boilerplate":"",dangerouslySetInnerHTML:{__html:"body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}"}})))}},36459:(e,t,n)=>{n.d(t,{default:()=>o});var a=n(67294);n(88914);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(this,arguments)}const o=function BackgroundAudio(e){let{backgroundAudio:t,id:n}=e;const{resource:o,tracks:l,loop:i}=t||{},{mimeType:s,src:c}=o,u={loop:i?"loop":void 0,id:`page-${n}-background-audio`,"captions-id":l?.length>0?`el-${n}-captions`:void 0,crossorigin:l?.length>0?"anonymous":void 0},d={type:s,src:c};return a.createElement("amp-story-grid-layer",{template:"fill"},a.createElement("amp-video",r({autoPlay:"autoplay",layout:"fixed",width:"1",height:"1",poster:""},u),a.createElement("source",d),l&&l.map(((e,t)=>{let{srclang:n,label:r,kind:o,track:l,id:i}=e;return a.createElement("track",{srcLang:n,label:r,kind:o,src:l,key:i,default:0===t})}))))}},32616:(e,t,n)=>{n.d(t,{default:()=>u});var a=n(67294),r=n(96962),o=n(63602),l=n(56862);n(88914);const i=(e,t)=>e.some((e=>e[0]===t[0]&&e[1]===t[1])),s=(e,t)=>Math.abs(e[0]+e[1]-t[0]-t[1]),c=(e,t)=>e.reduce(((e,n)=>s(n,t)<s(e,t)?n:e));const u=function FontDeclarations(e){let{pages:t}=e;const n=new Map;for(const{elements:e}of t){const t=e.filter((e=>{let{type:t}=e;return"text"===t}));for(const{font:e,content:a}of t){const{service:t,family:r,variants:o=[],url:s}=e;if(!t||"system"===t)continue;const u=n.get(t)||new Map;n.set(t,u);const d=u.get(r)||{family:r,variants:[],url:s},p=(0,l.getFontVariants)(a);if(o.length>0)for(const e of p){const t=c(o,e),n=i(d.variants,t),a=i(o,t);!n&&a&&d.variants.push(t)}u.set(r,d)}}return a.createElement(a.Fragment,null,Array.from(n.keys()).map((e=>{const t=n.get(e);switch(e){case"fonts.google.com":return a.createElement("link",{key:e,href:(0,r.default)(Array.from(t.values())),rel:"stylesheet"});case"custom":return Array.from(t.values()).map((e=>{let{family:t,url:n}=e;const r=(0,o.default)(t,n);return a.createElement("style",{key:t,dangerouslySetInnerHTML:{__html:r}})}));default:return null}})))}},94166:(e,t,n)=>{n.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var a=n(22188),r=n(760),o=n(73140);const __WEBPACK_DEFAULT_EXPORT__=function(e){let{animations:t,defaultPageDuration:n=r.DEFAULT_PAGE_DURATION,elements:l,backgroundAudio:i,id:s}=e;const{resource:c,loop:u}=i||{},d=(0,a.getTotalDuration)({animations:t})/1e3,p=!u&&c?.length?c.length:0,m=(0,o.default)(l,Math.max(d||1,p));if(m?.id)return`el-${m?.id}-media`;const f=Math.max(d||0,p,n);return f>p?`${f}s`:`page-${s}-background-audio`}},73140:(e,t,n)=>{n.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var a=n(88914);const __WEBPACK_DEFAULT_EXPORT__=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.filter((e=>{let{type:t,loop:n}=e;const{isMedia:r}=(0,a.getDefinitionForType)(t);return r&&!n})).reduce(((e,n)=>n?.resource?.length?n?.resource?.length<t||e?.resource?.length>n?.resource?.length?e:n:e),void 0)}},82631:(e,t,n)=>{n.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function(e){const t=[];if(0===e.length)return t;for(const{type:n,resource:a,isBackground:r}of e[0].elements){if(!["image","video","gif"].includes(n))continue;if(!r)continue;const e=a?.output?.src||a.src;t.push({url:e,type:"image"===n?"image":"video"})}return t}},76690:(e,t,n)=>{n.d(t,{default:()=>l});var a=n(67294),r=n(72070),o=n(65447);function l(e,t,n){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,r.renderToStaticMarkup)(a.createElement(o.default,{story:e,pages:t,metadata:n,flags:l}))}},58216:(e,t,n)=>{n.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function(e){return e.sort(((e,t)=>e.y-t.y)).reduce(((e,t)=>{let{id:n,fontSize:a,content:r,tagName:o}=t;if(o&&"auto"!==o)return e.set(n,o),e;if(r.length<=3)return e.set(n,"p"),e;const l=Array.from(e.values()).includes("h1");return a>=36&&!l?(e.set(n,"h1"),e):(a>=27?e.set(n,"h2"):a>=21?e.set(n,"h3"):e.set(n,"p"),e)}),new Map)}},31809:(e,t,n)=>{n.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=e=>{const t=[{src:"https://cdn.ampproject.org/v0.js"},{name:"amp-story",src:"https://cdn.ampproject.org/v0/amp-story-1.0.js"}],n={name:"amp-video",src:"https://cdn.ampproject.org/v0/amp-video-0.1.js"},a={name:"amp-story-captions",src:"https://cdn.ampproject.org/v0/amp-story-captions-0.1.js"},r={name:"amp-story-shopping",src:"https://cdn.ampproject.org/v0/amp-story-shopping-0.1.js"};for(const{elements:o,backgroundAudio:l}of e){l?.resource?.src&&l?.tracks?.length>0&&(t.push(n),t.push(a));for(const{type:e,tracks:l}of o)switch(e){case"video":t.push(n),l?.length>0&&t.push(a);break;case"gif":t.push(n);break;case"product":t.push(r)}}return[...new Set(t)]}},37051:(e,t,n)=>{n.d(t,{default:()=>o});var a=n(67294),r=n(91655);const o=function Outlink(e){let{ctaText:t,url:n,icon:o,theme:l,rel:i=[]}=e;return a.createElement("amp-story-page-outlink",{layout:"nodisplay","cta-image":o||void 0,theme:l},a.createElement("a",{href:n,rel:i.join(" ")},t||(0,r.__)("Learn more","web-stories")))}},48773:(e,t,n)=>{n.d(t,{default:()=>r});var a=n(67294);const r=function ShoppingAttachment(e){let{products:t,theme:n,ctaText:r}=e;return a.createElement("amp-story-shopping-attachment",{theme:n,"cta-text":r||void 0},a.createElement("script",{type:"application/json",dangerouslySetInnerHTML:{__html:JSON.stringify({items:t})}}))}},51529:(e,t,n)=>{n.d(t,{default:()=>i});var a=n(67294),r=n(15985),o=n(45246),l=n(47837);const i=function CustomStyles(){const e=r.PAGE_RATIO/r.FULLBLEED_RATIO,t=1/e,n=r.PAGE_RATIO,i=r.FULLBLEED_RATIO,s=o.theme.colors.bg.primary,c=(0,l.default)(s)?s:"#1B1D1C";return a.createElement("style",{"amp-custom":"",dangerouslySetInnerHTML:{__html:`\n              h1, h2, h3 { font-weight: normal; }\n\n              amp-story-page {\n                background-color: ${c};\n              }\n\n              amp-story-grid-layer {\n                overflow: visible;\n              }\n\n              @media (max-aspect-ratio: 9 / 16)  {\n                @media (min-aspect-ratio: 320 / 678) {\n                  amp-story-grid-layer.grid-layer {\n                    margin-top: calc((100% / ${i} - 100% / ${n}) / 2);\n                  }\n                }\n              }\n          \n              @media not all and (min-resolution:.001dpcm) {\n                @media {\n                  p.text-wrapper > span {\n                    font-size: calc(100% - 0.5px);\n                  }\n                }\n              }\n\n              .page-fullbleed-area,\n              .page-background-overlay-area {\n                position: absolute;\n                overflow: hidden;\n                width: 100%;\n                left: 0;\n                height: calc(${e} * 100%);\n                top: calc((1 - ${e}) * 100% / 2);\n              }\n\n              .element-overlay-area {\n                position: absolute;\n                width: 100%;\n                height: 100%;\n                top: 0;\n                left: 0;\n              }\n\n              .page-safe-area {\n                overflow: visible;\n                position: absolute;\n                top: 0;\n                bottom: 0;\n                left: 0;\n                right: 0;\n                width: 100%;\n                height: calc(${t} * 100%);\n                margin: auto 0;\n              }\n\n              .mask {\n                position: absolute;\n                overflow: hidden;\n              }\n\n              .fill {\n                position: absolute;\n                top: 0;\n                left: 0;\n                right: 0;\n                bottom: 0;\n                margin: 0;\n              }\n\n              @media (prefers-reduced-motion: no-preference) {\n                .animation-wrapper {\n                  opacity: var(--initial-opacity);\n                  transform: var(--initial-transform);\n                }\n              }\n\n              amp-story-grid-layer.align-bottom {\n                align-content: end;\n                padding: 0;\n              }\n\n              .captions-area {\n                padding: 0 32px 0;\n              }\n\n              amp-story-captions {\n                margin-bottom: 16px;\n                text-align: center;\n              }\n\n              amp-story-captions span {\n                display: inline-block;\n                margin: 0;\n                padding: 6px 12px;\n                vertical-align: middle;\n                border-radius: 15px;\n                background: rgba(11, 11, 11, 0.6);\n                color: rgba(255, 255, 255, 1);\n                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;;\n                font-size: calc(4 * var(--story-page-vw));\n                line-height: 1.4;\n                word-break: break-word;\n                word-wrap: break-word;\n                overflow-wrap: break-word;\n              }\n              `}})}},47837:(e,t,n)=>{n.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function(e){return/^#(?:[a-f0-9]{3}){1,2}$/i.test(e)}},63602:(e,t,n)=>{n.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function(e,t){const n=function(e){const t=e.split(/[#?]/)[0].split(".").pop().trim();switch(t){case"woff":case"woff2":return t;case"ttf":return"truetype";case"otf":return"opentype";default:return null}}(t);return n?`@font-face {\n    font-family: "${e}";\n    src: url('${t}') format('${n}');\n    font-weight: normal;\n    font-display:swap;\n  }`:null}},96962:(e,t,n)=>{n.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"swap";const n=new URL("https://fonts.googleapis.com/css2");n.searchParams.append("display",t);for(const{family:t,variants:a=[]}of e){const e=a.reduce(((e,t)=>{let[n,a]=t;return 1!==n||e.includes("ital")||e.push("ital"),a&&400!==a&&!e.includes("wght")&&e.push("wght"),e}),[]).sort();let r=t;const o=e.join(",");o&&(r+=":"+o);const l=[...a].sort(((e,t)=>e[0]<t[0]?-1:e[0]>t[0]?1:e[1]-t[1])).map((t=>{let[n,a]=t;const r=[];return e.includes("ital")&&r.push(n),e.includes("wght")&&r.push(a),r})).join(";"),i="400"===l;l&&!i&&(r+="@"+l),n.searchParams.append("family",r)}return decodeURI(n.toString())}}}]);